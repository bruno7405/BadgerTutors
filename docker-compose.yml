version: '3.8'

services:
  anchor-dev:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: student-registry-dev
    volumes:
      # Mount the project directory so changes reflect immediately
      - .:/workspace
      # Persist cargo cache between container rebuilds
      - cargo-cache:/usr/local/cargo/registry
      - cargo-git-cache:/usr/local/cargo/git
    working_dir: /workspace
    stdin_open: true
    tty: true
    # Keep container running
    command: tail -f /dev/null

volumes:
  cargo-cache:
  cargo-git-cache:

